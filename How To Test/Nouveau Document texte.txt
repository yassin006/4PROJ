#########################################
# üîê AUTHENTIFICATION
#########################################

### Register
POST http://localhost:3000/auth/register
Content-Type: application/json

{
  "name": "Test User",
  "email": "test@example.com",
  "password": "test1234"
}

###

### Login
POST http://localhost:3000/auth/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "test1234"
}

###

### Forgot Password
POST http://localhost:3000/auth/forgot-password
Content-Type: application/json

{
  "email": "test@example.com"
}

###

### Reset Password
POST http://localhost:3000/auth/reset-password
Content-Type: application/json

{
  "token": "<reset_token_received_via_email>",
  "newPassword": "newStrongPassword123"
}

###

### Get profile
GET http://localhost:3000/auth/me
Authorization: Bearer <your_token>

###

### Logout
POST http://localhost:3000/auth/logout
Authorization: Bearer <your_token>

#########################################
# üìä STATISTIQUES
#########################################

### Incidents stats
GET http://localhost:3000/stats/incidents
Authorization: Bearer <your_token>

#########################################
# üö® INCIDENTS
#########################################

### Create incident
POST http://localhost:3000/incidents
Authorization: Bearer <your_token>
Content-Type: multipart/form-data

# Form-data fields:
# - title: Test Incident
# - description: Ceci est un test enrichi
# - type: accident
# - location: {"type":"Point","coordinates":[3.876716,43.610769]}
# - severity: high      (optionnel)
# - status: pending     (optionnel)
# - source: user        (optionnel)
# - image: (image file)

###

### Validate incident
POST http://localhost:3000/incidents/:id/validate
Authorization: Bearer <your_token>

###

### Invalidate incident
POST http://localhost:3000/incidents/:id/invalidate
Authorization: Bearer <your_token>

#########################################
# üß≠ ROUTES
#########################################

### Calculate route
POST http://localhost:3000/routes/calculate
Content-Type: application/json

{
  "start": { "lat": 43.610769, "lng": 3.876716 },
  "end": { "lat": 43.296482, "lng": 5.36978 },
  "options": { "avoidTolls": true }
}

###

### Recalculate route
POST http://localhost:3000/routes/recalculate
Content-Type: application/json

{
  "start": { "lat": 43.610769, "lng": 3.876716 },
  "end": { "lat": 43.296482, "lng": 5.36978 },
  "incident": { "lat": 43.5, "lng": 4.5 }
}
